#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Sun Sep  8 20:25:43 2019

@author: marissaeppes
"""

import matplotlib.pyplot as plt


def prediction_plot(automodel, training_set, testing_set):
    
    if automodel.seasonal_order[3] == 12:
        freq ='Week'
    elif automodel.seasonal_order[3] == 52:
        freq = 'Month'
    else:
        pass
    
    order = str(automodel.order)
    seasonal_order = str(automodel.seasonal_order)
    
    predict_train = automodel.predict_in_sample()
    predict_test = automodel.predict(len(testing_set))
    
    fig = plt.figure(figsize = (20,20))
    ax1 = plt.subplot(211)
    ax2 = plt.subplot(212)
    
    ax1.plot(training_set, lw = 2)
    ax1.plot(predict_train, lw = 2)
    
    ax2.plot(testing_set, lw = 2)
    ax2.plot(predict_test, lw = 2)
    
    ax1.set_xlabel('Date', fontsize = 20)
    ax1.set_ylabel('Count', fontsize = 20)
    
    ax2.set_xlabel('Date', fontsize = 20)
    ax2.set_ylabel('Count', fontsize = 20)
    
    ax1.set_title(f'Number of Bike Rentals per {freq} Time Series, Model 1, SARIMA {order}{seasonal_order}', fontsize = 30)
    ax2.set_title(f'Number of Bike Rentals per {freq} Time Series, Model 1, SARIMA {order}{seasonal_order}', fontsize = 30)
    
    ax1.legend(['Train','Test', 'Model Prediction on Training Set'],prop={'size': 24})
    ax2.legend(['Train','Test', 'Model Prediction on Testing Set'],prop={'size': 24})
    
    